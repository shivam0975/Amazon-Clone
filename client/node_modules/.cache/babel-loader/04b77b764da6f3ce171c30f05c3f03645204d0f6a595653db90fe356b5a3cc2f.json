{"ast":null,"code":"import React,{useContext,useState}from'react';import{NavLink}from'react-router-dom';import{Logincontext}from'../context/Contextprovider';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignIn=()=>{const{account,setAccount}=useContext(Logincontext);const[logdata,setData]=useState({email:\"\",password:\"\"});// console.log(data);\nconst adddata=e=>{const{name,value}=e.target;// console.log(name, value);\nsetData(pre=>{return{...pre,[name]:value};});};const senddata=async e=>{e.preventDefault();const{email,password}=logdata;// console.log(email);\ntry{const res=await fetch(\"/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})});const data=await res.json();// console.log(data);\nif(res.status===400||!data){console.log(\"invalid details\");toast.error(\"Invalid Details ðŸ‘Ž!\",{position:\"top-center\"});}else{setAccount(data);setData({...logdata,email:\"\",password:\"\"});toast.success(\"Login Successfully done ðŸ˜ƒ!\",{position:\"top-center\"});}}catch(error){console.log(\"login page ka error\"+error.message);}};return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"sign_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sign_header\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./blacklogoamazon.png\",alt:\"signupimg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign_form\",children:[/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign-In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_data\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:adddata,value:logdata.email,id:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_data\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:adddata,value:logdata.password,id:\"password\",placeholder:\"At least 6 characters\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"signin_btn\",onClick:senddata,children:\"Continue\"})]}),/*#__PURE__*/_jsx(ToastContainer,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create_accountinfo\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"New to Amazon?\"}),/*#__PURE__*/_jsxs(\"button\",{children:[\"  \",/*#__PURE__*/_jsx(NavLink,{to:\"/signup\",children:\"Create your Amazon Account\"})]})]})]})});};export default SignIn;","map":{"version":3,"names":["React","useContext","useState","NavLink","Logincontext","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","SignIn","account","setAccount","logdata","setData","email","password","adddata","e","name","value","target","pre","senddata","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","status","console","log","error","position","success","message","children","className","src","alt","htmlFor","type","onChange","id","placeholder","onClick","to"],"sources":["/Users/shimac/Desktop/Amazon/client/src/Components/signup_signin/SignIn.js"],"sourcesContent":["import React, { useContext, useState } from 'react'\nimport { NavLink } from 'react-router-dom';\nimport { Logincontext } from '../context/Contextprovider';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nconst SignIn = () => {\n\n    const { account, setAccount } = useContext(Logincontext);\n\n    const [logdata, setData] = useState({\n        email: \"\",\n        password: \"\"\n    });\n\n    // console.log(data);\n\n    const adddata = (e) => {\n        const { name, value } = e.target;\n        // console.log(name, value);\n\n        setData((pre) => {\n            return {\n                ...pre,\n                [name]: value\n            }\n        })\n    };\n\n    const senddata = async (e) => {\n        e.preventDefault();\n\n        const { email, password } = logdata;\n        // console.log(email);\n        try {\n            const res = await fetch(\"/login\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    email, password\n                })\n            });\n\n\n            const data = await res.json();\n            // console.log(data);\n\n            if (res.status === 400 || !data) {\n                console.log(\"invalid details\");\n                toast.error(\"Invalid Details ðŸ‘Ž!\", {\n                    position: \"top-center\"\n                });\n            } else {\n                setAccount(data);\n                setData({ ...logdata, email: \"\", password: \"\" })\n                toast.success(\"Login Successfully done ðŸ˜ƒ!\", {\n                    position: \"top-center\"\n                });\n            }\n        } catch (error) {\n            console.log(\"login page ka error\" + error.message);\n        }\n    };\n\n    return (\n        <section>\n            <div className=\"sign_container\">\n                <div className=\"sign_header\">\n                    <img src=\"./blacklogoamazon.png\" alt=\"signupimg\" />\n                </div>\n                <div className=\"sign_form\">\n                    <form method=\"POST\">\n                        <h1>Sign-In</h1>\n\n                        <div className=\"form_data\">\n                            <label htmlFor=\"email\">Email</label>\n                            <input type=\"email\" name=\"email\"\n                                onChange={adddata}\n                                value={logdata.email}\n                                id=\"email\" />\n                        </div>\n                        <div className=\"form_data\">\n                            <label htmlFor=\"password\">Password</label>\n                            <input type=\"password\" name=\"password\"\n                                onChange={adddata}\n                                value={logdata.password}\n                                id=\"password\" placeholder=\"At least 6 characters\" />\n                        </div>\n                        <button type=\"submit\" className=\"signin_btn\" onClick={senddata}>Continue</button>\n                    </form>\n                    <ToastContainer />\n                </div>\n                <div className=\"create_accountinfo\">\n                    <p>New to Amazon?</p>\n                    <button>  <NavLink to=\"/signup\">Create your Amazon Account</NavLink></button>\n                </div>\n            </div>\n\n        </section>\n    )\n}\n\nexport default SignIn\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}